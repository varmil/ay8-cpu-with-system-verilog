declare my8_mem {
    inout adbus[8] ;
    input rW ;
    func_in do(rW, adbus):adbus ;
}
module my8_mem {
    func_self running ;
    mem memory_cell[256][8] = {
      0x3e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x05, 0xff, 0x24, 0x05, 0x00, 0x20, 0x3f, 0x00,
      0x05, 0x00, 0x24, 0x05, 0x00, 0x20, 0x3f, 0x00,
      0x05, 0xff, 0x24, 0x05, 0x00, 0x21, 0x3f, 0x00,
      0x05, 0x00, 0x24, 0x05, 0x00, 0x21, 0x3f, 0x00,
      0x05, 0xff, 0x24, 0x05, 0x02, 0x22, 0x3f, 0x00,
      0x05, 0x00, 0x24, 0x05, 0x02, 0x22, 0x3f, 0x00,
      0x05, 0xff, 0x24, 0x23, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0x00, 0x24, 0x23, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0x00, 0x24, 0x3f, 0x00, 0x00, 0x00, 0x00,
      0x05, 0x00, 0x25, 0x3f, 0x00, 0x00, 0x00, 0x00,
      0x05, 0x01, 0x26, 0x3f, 0x00, 0x00, 0x00, 0x00,
      0x05, 0x02, 0x2a, 0x03, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0xff, 0x24, 0x05, 0x02, 0x28, 0x03, 0x3f,
      0x05, 0x00, 0x24, 0x05, 0x02, 0x28, 0x03, 0x3f,
      0x05, 0x05, 0x2b, 0x02, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0x00, 0x24, 0x05, 0x05, 0x29, 0x02, 0x3f,
      0x05, 0xff, 0x24, 0x05, 0x05, 0x29, 0x02, 0x3f,
      0x05, 0x02, 0x2e, 0x63, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0xff, 0x24, 0x05, 0x02, 0x2c, 0x63, 0x3f,
      0x05, 0x00, 0x24, 0x05, 0x02, 0x2c, 0x63, 0x3f,
      0x05, 0x05, 0x2f, 0x7b, 0x3f, 0x00, 0x00, 0x00,
      0x05, 0x00, 0x24, 0x05, 0x05, 0x2d, 0x7b, 0x3f,
      0x05, 0xff, 0x24, 0x05, 0x05, 0x2d, 0x7b, 0x3f} ;
    reg addr_buf[8] ;

    func do seq {
        label_name r, w, quit ;

        if (running)
            goto quit ;
        else {
            addr_buf := adbus ;
            if (rW) goto r ;
            else goto w ;
        }

        r: {
            running() ;
            return memory_cell[addr_buf] ;
            goto quit ;
        }

        w: {
            running() ;
            memory_cell[addr_buf] := adbus ;
            goto quit ;
        }

        quit:
    }
}
